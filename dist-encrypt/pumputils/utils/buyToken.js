const a3_0x496b1b=a3_0x53bc;(function(_0x2195bc,_0x5a7d3f){const _0x40118c=a3_0x53bc,_0x59d85a=_0x2195bc();while(!![]){try{const _0xb70713=parseInt(_0x40118c(0x1e0))/0x1+-parseInt(_0x40118c(0x1f8))/0x2+-parseInt(_0x40118c(0x1c9))/0x3+-parseInt(_0x40118c(0x20c))/0x4+parseInt(_0x40118c(0x202))/0x5*(-parseInt(_0x40118c(0x1f9))/0x6)+parseInt(_0x40118c(0x1ad))/0x7+parseInt(_0x40118c(0x1c5))/0x8;if(_0xb70713===_0x5a7d3f)break;else _0x59d85a['push'](_0x59d85a['shift']());}catch(_0x1c841c){_0x59d85a['push'](_0x59d85a['shift']());}}}(a3_0x63cc,0x2f81e));const a3_0x56eac5=(function(){let _0x42697e=!![];return function(_0x215229,_0x3dfe88){const _0x3a855c=_0x42697e?function(){if(_0x3dfe88){const _0x185565=_0x3dfe88['apply'](_0x215229,arguments);return _0x3dfe88=null,_0x185565;}}:function(){};return _0x42697e=![],_0x3a855c;};}()),a3_0x1ab1a1=a3_0x56eac5(this,function(){const _0x373ab9=a3_0x53bc,_0x96028={'QSaLD':_0x373ab9(0x1f4)};return a3_0x1ab1a1[_0x373ab9(0x1e6)]()['search'](_0x96028['QSaLD'])['toString']()[_0x373ab9(0x224)](a3_0x1ab1a1)[_0x373ab9(0x21d)](_0x96028[_0x373ab9(0x1da)]);});a3_0x1ab1a1();function a3_0x53bc(_0x51b3ea,_0x56bf68){const _0x2165cb=a3_0x63cc();return a3_0x53bc=function(_0x1ab1a1,_0x56eac5){_0x1ab1a1=_0x1ab1a1-0x1a7;let _0x63ccf3=_0x2165cb[_0x1ab1a1];return _0x63ccf3;},a3_0x53bc(_0x51b3ea,_0x56bf68);}function a3_0x63cc(){const _0x52387a=['true','./tokenDataFromBondingCurveTokenAccBuffer','transaction','call','sendAndConfirmTransaction','YHEAT','AiGNT','IS_JITO','kKPSO','AnchorProvider','ðŸš€\x20~\x20tokenAccounts:','MkoCV','complete','ComputeBudgetProgram','feePayer','@solana/web3.js','TrvaA','pKqHf','hasOwnProperty','Trying\x20transaction\x20to\x20confirm\x20using\x20nextblock','vLxKJ','./getBondingCurvePDA','3410920eKZNMS','simulateTransaction','YlIMh','accounts','451785UbVwyq','IS_NEXT','epIce','toISOString','Nextblock\x20wallet\x20is\x20not\x20provided','Wallet','__importDefault','./getBondingCurveTokenAccountWithRetry','eYnxj','setComputeUnitPrice','FWUcS','iGAbL','FyEAU','zOLeo','error','setComputeUnitLimit','https://fra.nextblock.io/api/v2/submit','QSaLD','confirmed','writable','getTokenAccountsByOwner','LAMPORTS_PER_SOL','create','35429JkVZmu','NEXT_BLOCK_FEE','methods','qybBH','recentBlockhash','NexTBLockJYZ7QD7p2byrUa6df8ndV2WSd8GkbWqfbb','toString','Dodft','split','ajzIj','YOWKG','compileToV0Message','Nextblock\x20block\x20api\x20is\x20not\x20provided','EzINN','gbKpu','sendTransaction','dtOPG','@solana/spl-token','qwgGk','MPqFg','(((.+)+)+)+$','getOwnPropertyDescriptor','responseData','transfer','561226gDiXQG','108tDdrWs','log','signature','phsIS','err','MvtKv','data','../idl/pump-fun.json','default','25940IDmrrx','ltjOz','YKOaD','number','SystemProgram','Buying\x20token','confirm\x20sig\x20=>\x20','NeXTBLoCKs9F1y5PJS9CKrFNNLU1keHW71rfh7KgA1X','EEDnT','ouJLX','335092jsiGNy','https://solscan.io/tx/','status','sign','6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P','__setModuleDefault','defineProperty','add','base64','instructions','value','zCIqI','CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM','__esModule','pyIqk','gXJUp','ingnm','search','VDEnN','RdAtS','__createBinding','publicKey','Sent\x20transaction\x20with\x20signature','WraBU','constructor','neXtBLock1LeC67jYd1QdAa32kbVeubsfPNTJC1V5At','prototype','VersionedTransaction','buy','application/json','stringify','NEXT_BLOCK_API','../../utils/jito','CGzum','NexTbLoCkWykbLuB1NkjXgFWkX9oAtcoagQegygXXA2','FGqLj','POST','env','@coral-xyz/anchor','Bonding\x20curve\x20account\x20not\x20found','length','./getBuyPrice','Transaction','PublicKey','BqLPj','0|2|3|4|1','2388127ABqrFB','serialize'];a3_0x63cc=function(){return _0x52387a;};return a3_0x63cc();}'use strict';var __createBinding=this&&this[a3_0x496b1b(0x220)]||(Object['create']?function(_0x500c89,_0x45fbe2,_0x5032c8,_0x1e364a){const _0x38fa01=a3_0x496b1b,_0x2b2c54={'pAcnr':function(_0x348fb,_0x4dbe29){return _0x348fb===_0x4dbe29;},'YHEAT':function(_0x521c2d,_0x53c809){return _0x521c2d in _0x53c809;},'ouJLX':'get'};if(_0x2b2c54['pAcnr'](_0x1e364a,undefined))_0x1e364a=_0x5032c8;var _0x5de99b=Object[_0x38fa01(0x1f5)](_0x45fbe2,_0x5032c8);(!_0x5de99b||(_0x2b2c54[_0x38fa01(0x1b4)](_0x2b2c54[_0x38fa01(0x20b)],_0x5de99b)?!_0x45fbe2['__esModule']:_0x5de99b[_0x38fa01(0x1dc)]||_0x5de99b['configurable']))&&(_0x5de99b={'enumerable':!![],'get':function(){return _0x45fbe2[_0x5032c8];}}),Object['defineProperty'](_0x500c89,_0x1e364a,_0x5de99b);}:function(_0x386bfb,_0x4de642,_0xa1b238,_0x2baa07){const _0x21948d={'psmQR':function(_0x3e2215,_0x22f7fb){return _0x3e2215===_0x22f7fb;}};if(_0x21948d['psmQR'](_0x2baa07,undefined))_0x2baa07=_0xa1b238;_0x386bfb[_0x2baa07]=_0x4de642[_0xa1b238];}),__setModuleDefault=this&&this[a3_0x496b1b(0x211)]||(Object[a3_0x496b1b(0x1df)]?function(_0x4cc50c,_0x577d4b){const _0x46f61e=a3_0x496b1b,_0xc7614={'MPqFg':_0x46f61e(0x201)};Object[_0x46f61e(0x212)](_0x4cc50c,_0xc7614[_0x46f61e(0x1f3)],{'enumerable':!![],'value':_0x577d4b});}:function(_0x30fe03,_0x54eefa){const _0x3f22f7=a3_0x496b1b,_0x509771={'AiGNT':_0x3f22f7(0x201)};_0x30fe03[_0x509771[_0x3f22f7(0x1b5)]]=_0x54eefa;}),__importStar=this&&this['__importStar']||function(_0x57ffe5){const _0x2d73c0=a3_0x496b1b,_0x3bf133={'YlIMh':_0x2d73c0(0x1ac),'sHDZN':function(_0x2f9a40,_0x5631de){return _0x2f9a40!=_0x5631de;},'umPkb':function(_0x4340ed,_0x43637e){return _0x4340ed!==_0x43637e;},'iGAbL':'default','FyEAU':function(_0x30c79b,_0x5b58a7,_0x879847,_0x3e183f){return _0x30c79b(_0x5b58a7,_0x879847,_0x3e183f);},'zCIqI':function(_0x18e512,_0x32ec3d,_0x55393e){return _0x18e512(_0x32ec3d,_0x55393e);}},_0x120283=_0x3bf133[_0x2d73c0(0x1c7)][_0x2d73c0(0x1e8)]('|');let _0x3a8aa8=0x0;while(!![]){switch(_0x120283[_0x3a8aa8++]){case'0':if(_0x57ffe5&&_0x57ffe5[_0x2d73c0(0x219)])return _0x57ffe5;continue;case'1':return _0xbc95ca;case'2':var _0xbc95ca={};continue;case'3':if(_0x3bf133['sHDZN'](_0x57ffe5,null)){for(var _0x2bea76 in _0x57ffe5)if(_0x3bf133['umPkb'](_0x2bea76,_0x3bf133[_0x2d73c0(0x1d4)])&&Object[_0x2d73c0(0x226)][_0x2d73c0(0x1c1)][_0x2d73c0(0x1b2)](_0x57ffe5,_0x2bea76))_0x3bf133[_0x2d73c0(0x1d5)](__createBinding,_0xbc95ca,_0x57ffe5,_0x2bea76);}continue;case'4':_0x3bf133[_0x2d73c0(0x217)](__setModuleDefault,_0xbc95ca,_0x57ffe5);continue;}break;}},__importDefault=this&&this[a3_0x496b1b(0x1cf)]||function(_0x1780cf){const _0x35901e=a3_0x496b1b;return _0x1780cf&&_0x1780cf[_0x35901e(0x219)]?_0x1780cf:{'default':_0x1780cf};};Object[a3_0x496b1b(0x212)](exports,a3_0x496b1b(0x219),{'value':!![]});const token=__importStar(require(a3_0x496b1b(0x1f1))),web3=__importStar(require('@solana/web3.js')),getBondingCurvePDA_1=__importDefault(require(a3_0x496b1b(0x1c4))),tokenDataFromBondingCurveTokenAccBuffer_1=__importDefault(require(a3_0x496b1b(0x1b0))),getBuyPrice_1=__importDefault(require(a3_0x496b1b(0x1a8))),anchor_1=require(a3_0x496b1b(0x232)),bn_js_1=require('bn.js'),pump_fun_json_1=__importDefault(require(a3_0x496b1b(0x200))),getBondingCurveTokenAccountWithRetry_1=__importDefault(require(a3_0x496b1b(0x1d0))),web3_js_1=require(a3_0x496b1b(0x1be)),jito_1=require(a3_0x496b1b(0x22c)),BOANDING_CURVE_ACC_RETRY_AMOUNT=0x5,BOANDING_CURVE_ACC_RETRY_DELAY=0x32;async function buyToken(_0x4b9f96,_0x1a0ee2,_0x462433,_0x235b38,_0x50d45b,_0x170be1){const _0x2dd9b1=a3_0x496b1b,_0xef590c={'MkoCV':_0x2dd9b1(0x1b9),'JKqIK':function(_0x25d082,_0x57db57){return _0x25d082!==_0x57db57;},'kKPSO':_0x2dd9b1(0x210),'Dodft':function(_0x5c0eef,_0x4f8e39){return _0x5c0eef===_0x4f8e39;},'BqLPj':_0x2dd9b1(0x233),'FTwDO':'Bonding\x20curve\x20already\x20completed','gbKpu':function(_0x42b22a,_0x1da9de){return _0x42b22a*_0x1da9de;},'RdAtS':function(_0x28b3d2,_0x32ea9b){return _0x28b3d2(_0x32ea9b);},'ltjOz':'ðŸš€\x20~\x20solAmountLamp:','qwgGk':function(_0x1ab0de,_0x297e4f){return _0x1ab0de+_0x297e4f;},'zOLeo':function(_0x56e5be,_0x49828d){return _0x56e5be/_0x49828d;},'YKOaD':function(_0xe47862,_0x1f1d5a){return _0xe47862===_0x1f1d5a;},'MvtKv':_0x2dd9b1(0x205),'pKqHf':function(_0x1dc67e,_0x25a82a){return _0x1dc67e*_0x25a82a;},'CGzum':function(_0x5250d,_0x294f52){return _0x5250d===_0x294f52;},'vLxKJ':'true','EEDnT':_0x2dd9b1(0x209),'TrvaA':_0x2dd9b1(0x1e5),'qybBH':_0x2dd9b1(0x225),'gXJUp':'nEXTBLockYgngeRmRrjDV31mGSekVPqZoMGhQEZtPVG','pyIqk':'nextBLoCkPMgmG8ZgJtABeScP35qLa2AMCNKntAP7Xc','ajzIj':'NextbLoCkVtMGcV47JzewQdvBpLqT9TxQFozQkN98pE','eYnxj':_0x2dd9b1(0x22e),'VDEnN':function(_0x45657,_0x1aa868){return _0x45657(_0x1aa868);},'FWUcS':_0x2dd9b1(0x214),'pqKRN':_0x2dd9b1(0x1c2),'WraBU':function(_0x3bccd8,_0x5e064a,_0x3eae60){return _0x3bccd8(_0x5e064a,_0x3eae60);},'dtOPG':_0x2dd9b1(0x1d9),'phsIS':_0x2dd9b1(0x230),'NsRoH':_0x2dd9b1(0x1f6),'FGqLj':_0x2dd9b1(0x222),'EzINN':'Failed\x20to\x20send\x20transaction:','ingnm':'Error\x20sending\x20transaction:','YOWKG':_0x2dd9b1(0x1db),'epIce':_0x2dd9b1(0x208)};try{const _0x127a8b=new anchor_1[(_0x2dd9b1(0x1b8))](_0x1a0ee2,new anchor_1[(_0x2dd9b1(0x1ce))](_0x462433),{'commitment':'finalized'}),_0x508e9f=new anchor_1['Program'](pump_fun_json_1[_0x2dd9b1(0x201)],_0x127a8b),_0x2015d6=new web3[(_0x2dd9b1(0x1a9))](),_0x553099=await _0x1a0ee2[_0x2dd9b1(0x1dd)](_0x462433['publicKey'],{'mint':_0x4b9f96});console[_0x2dd9b1(0x1fa)](_0xef590c[_0x2dd9b1(0x1ba)],_0x553099);const _0x168d88=await token['getAssociatedTokenAddress'](_0x4b9f96,_0x462433[_0x2dd9b1(0x221)],![]);if(_0xef590c['JKqIK'](_0x553099['value'][_0x2dd9b1(0x1a7)],0x0)){}else _0x2015d6[_0x2dd9b1(0x213)](token['createAssociatedTokenAccountInstruction'](_0x462433[_0x2dd9b1(0x221)],_0x168d88,_0x462433[_0x2dd9b1(0x221)],_0x4b9f96));const _0x4af458=new web3[(_0x2dd9b1(0x1aa))](_0xef590c[_0x2dd9b1(0x1b7)]),_0x1e46a4=(0x0,getBondingCurvePDA_1[_0x2dd9b1(0x201)])(_0x4b9f96,_0x4af458),_0x10bc5b=await token['getAssociatedTokenAddress'](_0x4b9f96,_0x1e46a4,!![]),_0x524ae2=await(0x0,getBondingCurveTokenAccountWithRetry_1[_0x2dd9b1(0x201)])(_0x1a0ee2,_0x1e46a4,BOANDING_CURVE_ACC_RETRY_AMOUNT,BOANDING_CURVE_ACC_RETRY_DELAY);if(_0xef590c[_0x2dd9b1(0x1e7)](_0x524ae2,null))throw new Error(_0xef590c[_0x2dd9b1(0x1ab)]);const _0x38e190=(0x0,tokenDataFromBondingCurveTokenAccBuffer_1[_0x2dd9b1(0x201)])(_0x524ae2[_0x2dd9b1(0x1ff)]);if(_0x38e190[_0x2dd9b1(0x1bb)])throw new Error(_0xef590c['FTwDO']);console[_0x2dd9b1(0x1fa)]('transfer\x20sol\x20amount\x20=>\x20',_0x235b38);const _0x40258d=BigInt(_0xef590c[_0x2dd9b1(0x1ee)](_0x50d45b,0x64)),_0x709040=_0xef590c[_0x2dd9b1(0x21f)](BigInt,_0xef590c[_0x2dd9b1(0x1ee)](_0x235b38,web3[_0x2dd9b1(0x1de)]));console['log'](_0xef590c[_0x2dd9b1(0x203)],_0x709040);const _0x3da26e=(0x0,getBuyPrice_1[_0x2dd9b1(0x201)])(_0x709040,_0x38e190),_0x30872f=_0xef590c[_0x2dd9b1(0x1f2)](_0x709040,_0xef590c[_0x2dd9b1(0x1d6)](_0xef590c['gbKpu'](_0x709040,_0x40258d),0x2710n)),_0x1f58b6=new web3[(_0x2dd9b1(0x1aa))](_0x2dd9b1(0x218)),_0x701cb=web3[_0x2dd9b1(0x1bc)][_0x2dd9b1(0x1d8)]({'units':0x186a0}),_0x18b676=web3[_0x2dd9b1(0x1bc)][_0x2dd9b1(0x1d2)]({'microLamports':_0xef590c[_0x2dd9b1(0x204)](typeof _0x170be1,_0xef590c[_0x2dd9b1(0x1fe)])?_0xef590c[_0x2dd9b1(0x1c0)](_0x170be1,0x3b9aca00):0.0001*0x3b9aca00}),_0x2648ec=await _0x1a0ee2['getLatestBlockhash']();_0x2015d6[_0x2dd9b1(0x213)](_0x701cb)[_0x2dd9b1(0x213)](_0x18b676)[_0x2dd9b1(0x213)](await _0x508e9f[_0x2dd9b1(0x1e2)][_0x2dd9b1(0x228)](new bn_js_1['BN'](_0x3da26e[_0x2dd9b1(0x1e6)]()),new bn_js_1['BN'](_0x30872f[_0x2dd9b1(0x1e6)]()))[_0x2dd9b1(0x1c8)]({'feeRecipient':_0x1f58b6,'mint':_0x4b9f96,'associatedBondingCurve':_0x10bc5b,'associatedUser':_0x168d88,'user':_0x462433[_0x2dd9b1(0x221)]})[_0x2dd9b1(0x1b1)]()),_0x2015d6[_0x2dd9b1(0x1bd)]=_0x462433[_0x2dd9b1(0x221)],_0x2015d6[_0x2dd9b1(0x1e4)]=_0x2648ec['blockhash'],console['log'](await _0x1a0ee2[_0x2dd9b1(0x1c6)](_0x2015d6));const _0x2f7afb=_0xef590c[_0x2dd9b1(0x22d)](process[_0x2dd9b1(0x231)][_0x2dd9b1(0x1ca)],_0xef590c[_0x2dd9b1(0x1c3)]),_0x7a3dcb=process['env'][_0x2dd9b1(0x1b6)]===_0x2dd9b1(0x1af);if(_0x2f7afb){const _0x4f0e1b=['NEXTbLoCkB51HpLBLojQfpyVAMorm3zzKg7w9NFdqid',_0xef590c[_0x2dd9b1(0x20a)],_0xef590c[_0x2dd9b1(0x1bf)],_0xef590c[_0x2dd9b1(0x1e3)],_0xef590c[_0x2dd9b1(0x21b)],_0xef590c[_0x2dd9b1(0x21a)],_0xef590c[_0x2dd9b1(0x1e9)],_0xef590c[_0x2dd9b1(0x1d1)]];for(let _0xee1cb4=0x0;_0xee1cb4<_0x4f0e1b[_0x2dd9b1(0x1a7)];_0xee1cb4++){const _0x4eed65=_0x4f0e1b[_0xee1cb4],_0x12a456=process[_0x2dd9b1(0x231)][_0x2dd9b1(0x22b)];if(!_0x4eed65)return console['log'](_0x2dd9b1(0x1cd));if(!_0x12a456)return console[_0x2dd9b1(0x1fa)](_0x2dd9b1(0x1ec));const _0x3ac223=new web3['PublicKey'](_0x4eed65),_0x16da10=web3_js_1[_0x2dd9b1(0x206)][_0x2dd9b1(0x1f7)]({'fromPubkey':_0x462433[_0x2dd9b1(0x221)],'toPubkey':_0x3ac223,'lamports':process[_0x2dd9b1(0x231)]['NEXT_BLOCK_FEE']?_0xef590c[_0x2dd9b1(0x1ee)](_0xef590c[_0x2dd9b1(0x21e)](Number,process[_0x2dd9b1(0x231)][_0x2dd9b1(0x1e1)]),web3[_0x2dd9b1(0x1de)]):0xf4240});_0x2015d6[_0x2dd9b1(0x213)](_0x16da10),_0x2015d6[_0x2dd9b1(0x20f)](_0x462433),console[_0x2dd9b1(0x1fa)](_0x2dd9b1(0x207));const _0xd093a8=_0x2015d6[_0x2dd9b1(0x1ae)]()[_0x2dd9b1(0x1e6)](_0xef590c[_0x2dd9b1(0x1d3)]),_0x330b18={'transaction':{'content':_0xd093a8}};try{console[_0x2dd9b1(0x1fa)](_0xef590c['pqKRN']);const _0x2479c1=await _0xef590c[_0x2dd9b1(0x223)](fetch,_0xef590c[_0x2dd9b1(0x1f0)],{'method':_0xef590c[_0x2dd9b1(0x1fc)],'headers':{'Content-Type':_0x2dd9b1(0x229),'authorization':_0x12a456},'body':JSON[_0x2dd9b1(0x22a)](_0x330b18)}),_0xc2e570=await _0x2479c1['json']();console[_0x2dd9b1(0x1fa)](_0xef590c['NsRoH'],_0xc2e570);if(_0x2479c1['ok']){console['log'](_0xef590c[_0x2dd9b1(0x22f)],_0x2dd9b1(0x20d)+_0xc2e570[_0x2dd9b1(0x1fb)]?.[_0x2dd9b1(0x1e6)]());break;}else{console[_0x2dd9b1(0x1d7)](_0xef590c[_0x2dd9b1(0x1ed)],_0x2479c1[_0x2dd9b1(0x20e)],_0xc2e570);continue;}}catch(_0x12937f){console[_0x2dd9b1(0x1d7)](_0xef590c[_0x2dd9b1(0x21c)],_0x12937f);continue;}}}else{if(_0x7a3dcb){const _0x5dbce0=new web3_js_1['TransactionMessage']({'payerKey':_0x462433[_0x2dd9b1(0x221)],'recentBlockhash':_0x2648ec['blockhash'],'instructions':_0x2015d6[_0x2dd9b1(0x215)]})[_0x2dd9b1(0x1eb)](),_0x2445ec=new web3[(_0x2dd9b1(0x227))](_0x5dbce0);_0x2445ec[_0x2dd9b1(0x20f)]([_0x462433]);const _0x176111=await(0x0,jito_1['executeJitoTx'])([_0x2445ec],_0x462433,'confirmed');return _0x176111;}else{const _0x33ed07=await _0x1a0ee2[_0x2dd9b1(0x1ef)](_0x2015d6,[_0x462433]),_0x1f264b=await _0x1a0ee2['confirmTransaction'](_0x33ed07,_0xef590c['YOWKG']);console[_0x2dd9b1(0x1fa)](_0xef590c[_0x2dd9b1(0x1cb)],_0x1f264b[_0x2dd9b1(0x216)][_0x2dd9b1(0x1fd)]),console[_0x2dd9b1(0x1fa)]('Sending\x20transaction\x20for\x20buying\x20'+_0x4b9f96[_0x2dd9b1(0x1e6)]()+',\x20'+new Date()[_0x2dd9b1(0x1cc)]());const _0x315703=await web3[_0x2dd9b1(0x1b3)](_0x1a0ee2,_0x2015d6,[_0x462433],{'skipPreflight':!![],'commitment':_0xef590c[_0x2dd9b1(0x1ea)],'preflightCommitment':_0xef590c[_0x2dd9b1(0x1ea)]});return _0x315703;}}}catch(_0x2d828c){return console['error'](_0x2d828c),![];}}exports['default']=buyToken;